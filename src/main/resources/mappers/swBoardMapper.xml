<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wolclass.mapper.swBoardMapper">
	
	
	
	<!-- DB시간조회 -->
 	<select id="getTime" resultType="string">
 	  select now()
 	</select>
 	
 	<!-- 글쓰기 -->
 	<insert id="create">
 	   insert into wc_board (b_category,b_writer,b_title,b_content) 
 	   values(#{b_category},#{b_writer},#{b_title},#{b_content}) 	 	
 	</insert>
 	
 	<!-- 글 전체 목록조회 -->
 	<select id="listAll" parameterType="map" resultType="BoardVO">
 	<![CDATA[
	select *
	from wc_board 
	where b_category like concat('%',#{b_category},'%')
	and b_title like concat('%',#{search},'%')
	]]>
 	</select>
 	
 	<!-- 목록 페이징처리  -->
 	<select id="boardPageNum" parameterType="map" resultType="int">
 	<![CDATA[
 	select count(*)
	from wc_board 
	where b_category like concat('%',#{b_category},'%')
	and b_title like concat('%',#{search},'%')
	 ]]>  
 	</select>
 	
 	<!-- 글 조회수 1증가 -->
 	<update id="addViewcnt">
		update wc_board set viewcnt = viewcnt + 1 
		where b_no = #{b_no}		 	
 	</update>
 	
 	<!-- 글번호에 해당하는 글정보 조회 -->
 	<select id="getBoard" resultType="BoardVO">
 		select * from tbl_board 
 		where bno = #{bno}	
 	</select>
 	
 	<!--  글정보 수정  -->
	<update id="updateBoard">
		update tbl_board set title=#{title},content=#{content},writer=#{writer}
		where bno = #{bno}
	</update> 	
 	
 	<!--  글 정보 삭제  -->
 	<delete id="deleteBoard">
 	    delete from tbl_board
 	    where bno = #{bno}
 	</delete>
 	
 	
 	
</mapper>	